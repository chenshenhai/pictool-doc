(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{142:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"pictool-browser"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pictool-browser","aria-hidden":"true"}},[t._v("#")]),t._v(" Pictool.browser")]),t._v(" "),s("h2",{attrs:{id:"浏览器api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#浏览器api","aria-hidden":"true"}},[t._v("#")]),t._v(" 浏览器API")]),t._v(" "),s("h3",{attrs:{id:"工具对象-util"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工具对象-util","aria-hidden":"true"}},[t._v("#")]),t._v(" 工具对象 util")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Pictool "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pictool'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" util "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pictool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("code",[t._v("Pictool.browser.util")]),t._v(" 是个对象，主要封装了以下方法")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("util.getImageBySrc")]),t._v(" 通过图片URL获取生产图片元素 "),s("code",[t._v("HTMLImageElement")])]),t._v(" "),s("li",[s("code",[t._v("util.getImageDataBySrc")]),t._v(" 通过图片URL获取生产图片数据 "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData/ImageData",target:"_blank",rel:"noopener noreferrer"}},[t._v("ImageData"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("code",[t._v("util.compressImage")]),t._v(" 通过图片元素"),s("code",[t._v("HTMLImageElement")]),t._v("将图片进行压缩处理")]),t._v(" "),s("li",[s("code",[t._v("util.imageData2Base64")]),t._v(" 通过图片数据"),s("code",[t._v("ImageData")]),t._v("将图片进行转换成"),s("code",[t._v("Base64")]),t._v("字符串")]),t._v(" "),s("li",[s("code",[t._v("util.imageData2DigitImageData")]),t._v(" 浏览器的"),s("code",[t._v("ImageData")]),t._v("数据转"),s("code",[t._v("Pictool")]),t._v("数字图像数据 "),s("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")])],1),t._v(" "),s("li",[s("code",[t._v("util.digitImageData2ImageData")]),t._v(" "),s("code",[t._v("Pictool")]),t._v("数字图像数据"),s("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")]),t._v("转浏览器的"),s("code",[t._v("ImageData")]),t._v("数据")],1)]),t._v(" "),s("h3",{attrs:{id:"沙箱类-sandbox"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#沙箱类-sandbox","aria-hidden":"true"}},[t._v("#")]),t._v(" 沙箱类 Sandbox")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Pictool "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pictool'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Sandbox "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pictool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Sandbox"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("code",[t._v("Pictool.browser.Sandbox")]),t._v(" 是个"),s("code",[t._v("class")]),t._v("，主要提供一个对单一图片的图像处理沙箱")]),t._v(" "),s("h2",{attrs:{id:"util-getimagebysrc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#util-getimagebysrc","aria-hidden":"true"}},[t._v("#")]),t._v(" util.getImageBySrc")]),t._v(" "),s("p",[s("code",[t._v("util.getImageBySrc")]),t._v(" 通过图片URL获取生产图片元素 "),s("code",[t._v("HTMLImageElement")])]),t._v(" "),s("ul",[s("li",[t._v("参数 "),s("code",[t._v("imgSrc {string}")]),t._v(" 可以是"),s("code",[t._v("图片URL")]),t._v("或者图片的"),s("code",[t._v("base64")]),t._v("字符串")]),t._v(" "),s("li",[t._v("返回 "),s("code",[t._v("Promise<HTMLImageElement>")])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" imgSrc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./assets/image/test.jpg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nPictool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getImageBySrc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgSrc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("img")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试结果")]),t._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'J_Example_02'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"util-getimagedatabysrc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#util-getimagedatabysrc","aria-hidden":"true"}},[t._v("#")]),t._v(" util.getImageDataBySrc")]),t._v(" "),s("p",[s("code",[t._v("util.getImageDataBySrc")]),t._v(" 通过图片URL获取生产图片数据 "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData/ImageData",target:"_blank",rel:"noopener noreferrer"}},[t._v("ImageData"),s("OutboundLink")],1)]),t._v(" "),s("ul",[s("li",[t._v("参数 "),s("code",[t._v("imgSrc {string}")]),t._v(" 可以是"),s("code",[t._v("图片URL")]),t._v("或者图片的"),s("code",[t._v("base64")]),t._v("字符串")]),t._v(" "),s("li",[t._v("返回 "),s("code",[t._v("Promise<ImageData>")])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" imgSrc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./assets/image/test.jpg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nPictool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getImageDataBySrc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgSrc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("imgData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试结果")]),t._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'J_Example_03'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v("`\n    <code>\n      ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n    </code>\n  `")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"util-compressimage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#util-compressimage","aria-hidden":"true"}},[t._v("#")]),t._v(" util.compressImage")]),t._v(" "),s("p",[s("code",[t._v("util.compressImage")]),t._v(" 通过图片元素"),s("code",[t._v("HTMLImageElement")]),t._v("将图片进行压缩处理")]),t._v(" "),s("ul",[s("li",[t._v("参数 "),s("code",[t._v("img {HTMLImageElement}")]),t._v(": 可以是"),s("code",[t._v("图片URL")]),t._v("或者图片的"),s("code",[t._v("base64")]),t._v("字符串")]),t._v(" "),s("li",[t._v("参数 "),s("code",[t._v("options {object}")]),t._v(": 是压缩图像的配置\n"),s("ul",[s("li",[s("code",[t._v("options.type {string}")]),t._v(" 可选 "),s("code",[t._v("image/png")]),t._v("，"),s("code",[t._v("image/jpeg")]),t._v("和"),s("code",[t._v("image/webp")]),t._v(" "),s("ul",[s("li",[t._v("默认是 "),s("code",[t._v("image/png")])])])]),t._v(" "),s("li",[s("code",[t._v("options.encoderOptions {number}")]),t._v("，图片质量压缩比例， 范围在"),s("code",[t._v("[0, 1]")]),t._v("之间的小数\n"),s("ul",[s("li",[t._v("当 "),s("code",[t._v("options.type")]),t._v("为"),s("code",[t._v("image/jpeg")]),t._v("或"),s("code",[t._v("image/webp")]),t._v("，压缩效果才能生效")]),t._v(" "),s("li",[t._v("默认为"),s("code",[t._v("1")])])])])])]),t._v(" "),s("li",[t._v("返回 "),s("code",[t._v("string")]),t._v("，为图片压缩后的 "),s("code",[t._v("base64")]),t._v("字符串")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" compressImage "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  Pictool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compressImage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'image/jpeg'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  encoderOptions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" compressImgSrc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compressImage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试结果")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'J_Example_04'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`<img src="')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("compressImgSrc"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('">`')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"util-imagedata2base64"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#util-imagedata2base64","aria-hidden":"true"}},[t._v("#")]),t._v(" util.imageData2Base64")]),t._v(" "),s("p",[s("code",[t._v("util.imageData2Base64")]),t._v(" 通过图片数据"),s("code",[t._v("ImageData")]),t._v("将图片进行转换成"),s("code",[t._v("Base64")]),t._v("字符串")]),t._v(" "),s("ul",[s("li",[t._v("参数 "),s("code",[t._v("imgData {ImageData}")]),t._v(" 是图像的数据类型")]),t._v(" "),s("li",[t._v("返回 "),s("code",[t._v("string")]),t._v("，为图片转换后的 "),s("code",[t._v("base64")]),t._v("字符串")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" base64 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pictool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("imageData2Base64")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试结果")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'J_Example_05'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`<img src="')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("base64"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('">`')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"util-imagedata2digitimagedata"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#util-imagedata2digitimagedata","aria-hidden":"true"}},[t._v("#")]),t._v(" util.imageData2DigitImageData")]),t._v(" "),s("ul",[s("li",[t._v("参数 "),s("code",[t._v("imgData {ImageData}")]),t._v(" 是浏览器图像的数据类型")]),t._v(" "),s("li",[t._v("返回 "),s("code",[t._v("imgData {DigitImageData}")]),t._v(" "),s("code",[t._v("Pictool")]),t._v("数字图像数据 "),s("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")])],1)]),t._v(" "),s("p",[t._v("浏览器的"),s("code",[t._v("ImageData")]),t._v("数据转"),s("code",[t._v("Pictool")]),t._v("数字图像数据 "),s("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")])],1),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" digitImg "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pictool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("imageData2DigitImageData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"util-digitimagedata2imagedata"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#util-digitimagedata2imagedata","aria-hidden":"true"}},[t._v("#")]),t._v(" util.digitImageData2ImageData")]),t._v(" "),s("p",[s("code",[t._v("Pictool")]),t._v("数字图像数据"),s("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")]),t._v("转浏览器的"),s("code",[t._v("ImageData")]),t._v("数据")],1),t._v(" "),s("ul",[s("li",[t._v("参数 "),s("code",[t._v("imgData {DigitImageData}")]),t._v(" "),s("code",[t._v("Pictool")]),t._v("数字图像数据 "),s("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")])],1),t._v(" "),s("li",[t._v("返回 "),s("code",[t._v("imgData {ImageData}")]),t._v(" 是浏览器图像的数据类型")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" imgData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pictool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("imageData2DigitImageData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("digitImg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"sandbox"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sandbox","aria-hidden":"true"}},[t._v("#")]),t._v(" Sandbox")]),t._v(" "),s("p",[s("code",[t._v("Pictool.browser.Sandbox")]),t._v(" 是个"),s("code",[t._v("class")]),t._v("，主要提供一个对单一图片的图像处理沙箱")]),t._v(" "),s("ul",[s("li",[t._v("初始化参数 "),s("code",[t._v("imgSrc {string}")]),t._v(" 可以是"),s("code",[t._v("图片URL")]),t._v("或者图片的"),s("code",[t._v("base64")]),t._v("字符串")]),t._v(" "),s("li",[t._v("方法 "),s("code",[t._v("queueProcess")]),t._v(" "),s("ul",[s("li",[t._v("参数 "),s("code",[t._v("opts {array}")]),t._v(" 是个处理流程配置数据\n"),s("ul",[s("li",[t._v("数组的元素为对象, "),s("code",[t._v("{process: string, options: any}")])]),t._v(" "),s("li",[s("code",[t._v("process")]),t._v(" 为图像处理算法 "),s("code",[t._v("// TODO")])]),t._v(" "),s("li",[s("code",[t._v("options")]),t._v(" 为对应算法的参数 "),s("code",[t._v("// TODO")])])])]),t._v(" "),s("li",[t._v("返回 "),s("code",[t._v("Promise<string>")]),t._v(" 图片处理后的 "),s("code",[t._v("base64")]),t._v("字符串")])])])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sandbox "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Pictool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Sandbox")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgSrc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" opts "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sobel'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'invert'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nsandbox"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("queueProcess")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("opts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("base64")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'J_Example_06'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`<img src="')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("base64"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" />`')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])},[],!1,null,null,null);a.default=e.exports}}]);