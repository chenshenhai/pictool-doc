(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{128:function(t,a,s){t.exports=s.p+"assets/img/example-digit-browser-sanbox.0af19fb9.jpg"},150:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"pictool-browser"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pictool-browser","aria-hidden":"true"}},[t._v("#")]),t._v(" Pictool.browser")]),t._v(" "),n("h2",{attrs:{id:"浏览器api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#浏览器api","aria-hidden":"true"}},[t._v("#")]),t._v(" 浏览器API")]),t._v(" "),n("h3",{attrs:{id:"工具对象-util"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#工具对象-util","aria-hidden":"true"}},[t._v("#")]),t._v(" 工具对象 util")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Pictool "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pictool'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" util "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pictool"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("code",[t._v("Pictool.browser.util")]),t._v(" 是个对象，主要封装了以下方法")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("util.getImageBySrc")]),t._v(" 通过图片URL获取生产图片元素 "),n("code",[t._v("HTMLImageElement")])]),t._v(" "),n("li",[n("code",[t._v("util.getImageDataBySrc")]),t._v(" 通过图片URL获取生产图片数据 "),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData/ImageData",target:"_blank",rel:"noopener noreferrer"}},[t._v("ImageData"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("code",[t._v("util.compressImage")]),t._v(" 通过图片元素"),n("code",[t._v("HTMLImageElement")]),t._v("将图片进行压缩处理")]),t._v(" "),n("li",[n("code",[t._v("util.imageData2Base64")]),t._v(" 通过图片数据"),n("code",[t._v("ImageData")]),t._v("将图片进行转换成"),n("code",[t._v("Base64")]),t._v("字符串")]),t._v(" "),n("li",[n("code",[t._v("util.imageData2DigitImageData")]),t._v(" 浏览器的"),n("code",[t._v("ImageData")]),t._v("数据转"),n("code",[t._v("Pictool")]),t._v("数字图像数据 "),n("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")])],1),t._v(" "),n("li",[n("code",[t._v("util.digitImageData2ImageData")]),t._v(" "),n("code",[t._v("Pictool")]),t._v("数字图像数据"),n("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")]),t._v("转浏览器的"),n("code",[t._v("ImageData")]),t._v("数据")],1)]),t._v(" "),n("h3",{attrs:{id:"沙箱类-sandbox"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#沙箱类-sandbox","aria-hidden":"true"}},[t._v("#")]),t._v(" 沙箱类 Sandbox")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Pictool "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pictool'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Sandbox "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pictool"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Sandbox"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("code",[t._v("Pictool.browser.Sandbox")]),t._v(" 是个"),n("code",[t._v("class")]),t._v("，主要提供一个对单一图片的图像处理沙箱")]),t._v(" "),n("h2",{attrs:{id:"util-getimagebysrc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#util-getimagebysrc","aria-hidden":"true"}},[t._v("#")]),t._v(" util.getImageBySrc")]),t._v(" "),n("p",[n("code",[t._v("util.getImageBySrc")]),t._v(" 通过图片URL获取生产图片元素 "),n("code",[t._v("HTMLImageElement")])]),t._v(" "),n("ul",[n("li",[t._v("参数 "),n("code",[t._v("imgSrc {string}")]),t._v(" 可以是"),n("code",[t._v("图片URL")]),t._v("或者图片的"),n("code",[t._v("base64")]),t._v("字符串")]),t._v(" "),n("li",[t._v("返回 "),n("code",[t._v("Promise<HTMLImageElement>")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" imgSrc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./assets/image/test.jpg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nPictool"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getImageBySrc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgSrc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("img")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试结果")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'J_Example_02'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"util-getimagedatabysrc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#util-getimagedatabysrc","aria-hidden":"true"}},[t._v("#")]),t._v(" util.getImageDataBySrc")]),t._v(" "),n("p",[n("code",[t._v("util.getImageDataBySrc")]),t._v(" 通过图片URL获取生产图片数据 "),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData/ImageData",target:"_blank",rel:"noopener noreferrer"}},[t._v("ImageData"),n("OutboundLink")],1)]),t._v(" "),n("ul",[n("li",[t._v("参数 "),n("code",[t._v("imgSrc {string}")]),t._v(" 可以是"),n("code",[t._v("图片URL")]),t._v("或者图片的"),n("code",[t._v("base64")]),t._v("字符串")]),t._v(" "),n("li",[t._v("返回 "),n("code",[t._v("Promise<ImageData>")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" imgSrc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./assets/image/test.jpg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nPictool"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getImageDataBySrc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgSrc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("imgData")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试结果")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'J_Example_03'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v("`\n    <code>\n      ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n    </code>\n  `")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"util-compressimage"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#util-compressimage","aria-hidden":"true"}},[t._v("#")]),t._v(" util.compressImage")]),t._v(" "),n("p",[n("code",[t._v("util.compressImage")]),t._v(" 通过图片元素"),n("code",[t._v("HTMLImageElement")]),t._v("将图片进行压缩处理")]),t._v(" "),n("ul",[n("li",[t._v("参数 "),n("code",[t._v("img {HTMLImageElement}")]),t._v(": 可以是"),n("code",[t._v("图片URL")]),t._v("或者图片的"),n("code",[t._v("base64")]),t._v("字符串")]),t._v(" "),n("li",[t._v("参数 "),n("code",[t._v("options {object}")]),t._v(": 是压缩图像的配置\n"),n("ul",[n("li",[n("code",[t._v("options.type {string}")]),t._v(" 可选 "),n("code",[t._v("image/png")]),t._v("，"),n("code",[t._v("image/jpeg")]),t._v("和"),n("code",[t._v("image/webp")]),t._v(" "),n("ul",[n("li",[t._v("默认是 "),n("code",[t._v("image/png")])])])]),t._v(" "),n("li",[n("code",[t._v("options.encoderOptions {number}")]),t._v("，图片质量压缩比例， 范围在"),n("code",[t._v("[0, 1]")]),t._v("之间的小数\n"),n("ul",[n("li",[t._v("当 "),n("code",[t._v("options.type")]),t._v("为"),n("code",[t._v("image/jpeg")]),t._v("或"),n("code",[t._v("image/webp")]),t._v("，压缩效果才能生效")]),t._v(" "),n("li",[t._v("默认为"),n("code",[t._v("1")])])])])])]),t._v(" "),n("li",[t._v("返回 "),n("code",[t._v("string")]),t._v("，为图片压缩后的 "),n("code",[t._v("base64")]),t._v("字符串")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" compressImage "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  Pictool"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compressImage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'image/jpeg'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  encoderOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" compressImgSrc "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("compressImage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试结果")]),t._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'J_Example_04'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`<img src="')]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("compressImgSrc"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('">`')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"util-imagedata2base64"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#util-imagedata2base64","aria-hidden":"true"}},[t._v("#")]),t._v(" util.imageData2Base64")]),t._v(" "),n("p",[n("code",[t._v("util.imageData2Base64")]),t._v(" 通过图片数据"),n("code",[t._v("ImageData")]),t._v("将图片进行转换成"),n("code",[t._v("Base64")]),t._v("字符串")]),t._v(" "),n("ul",[n("li",[t._v("参数 "),n("code",[t._v("imgData {ImageData}")]),t._v(" 是图像的数据类型")]),t._v(" "),n("li",[t._v("返回 "),n("code",[t._v("string")]),t._v("，为图片转换后的 "),n("code",[t._v("base64")]),t._v("字符串")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" base64 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pictool"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("imageData2Base64")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 测试结果")]),t._v("\ndocument"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'J_Example_05'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`<img src="')]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("base64"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('">`')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h2",{attrs:{id:"util-imagedata2digitimagedata"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#util-imagedata2digitimagedata","aria-hidden":"true"}},[t._v("#")]),t._v(" util.imageData2DigitImageData")]),t._v(" "),n("ul",[n("li",[t._v("参数 "),n("code",[t._v("imgData {ImageData}")]),t._v(" 是浏览器图像的数据类型")]),t._v(" "),n("li",[t._v("返回 "),n("code",[t._v("imgData {DigitImageData}")]),t._v(" "),n("code",[t._v("Pictool")]),t._v("数字图像数据 "),n("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")])],1)]),t._v(" "),n("p",[t._v("浏览器的"),n("code",[t._v("ImageData")]),t._v("数据转"),n("code",[t._v("Pictool")]),t._v("数字图像数据 "),n("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")])],1),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" digitImg "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pictool"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("imageData2DigitImageData")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"util-digitimagedata2imagedata"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#util-digitimagedata2imagedata","aria-hidden":"true"}},[t._v("#")]),t._v(" util.digitImageData2ImageData")]),t._v(" "),n("p",[n("code",[t._v("Pictool")]),t._v("数字图像数据"),n("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")]),t._v("转浏览器的"),n("code",[t._v("ImageData")]),t._v("数据")],1),t._v(" "),n("ul",[n("li",[t._v("参数 "),n("code",[t._v("imgData {DigitImageData}")]),t._v(" "),n("code",[t._v("Pictool")]),t._v("数字图像数据 "),n("router-link",{attrs:{to:"/page/zh/file/digit.html#digit-digitimagedata"}},[t._v("DigitImageData")])],1),t._v(" "),n("li",[t._v("返回 "),n("code",[t._v("imgData {ImageData}")]),t._v(" 是浏览器图像的数据类型")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" imgData "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Pictool"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("imageData2DigitImageData")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("digitImg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h2",{attrs:{id:"sandbox"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sandbox","aria-hidden":"true"}},[t._v("#")]),t._v(" Sandbox")]),t._v(" "),n("p",[n("code",[t._v("Pictool.browser.Sandbox")]),t._v(" 是个"),n("code",[t._v("class")]),t._v("，主要提供一个对单一图片的图像处理沙箱")]),t._v(" "),n("ul",[n("li",[t._v("初始化参数 "),n("code",[t._v("imgSrc {string}")]),t._v(" 可以是"),n("code",[t._v("图片URL")]),t._v("或者图片的"),n("code",[t._v("base64")]),t._v("字符串")]),t._v(" "),n("li",[t._v("方法 "),n("code",[t._v("queueProcess")]),t._v(" "),n("ul",[n("li",[t._v("参数 "),n("code",[t._v("opts {array}")]),t._v(" 是个处理流程配置数据\n"),n("ul",[n("li",[t._v("数组的元素为对象, "),n("code",[t._v("{process: string, options: any}")])]),t._v(" "),n("li",[n("code",[t._v("process")]),t._v(" 为图像处理算法，目前"),n("code",[t._v("Pictool")]),t._v("支持的图像处理算法 "),n("router-link",{attrs:{to:"/page/zh/file/digit-process.html"}},[t._v("digit.process")])],1),t._v(" "),n("li",[n("code",[t._v("options")]),t._v(" 为对应算法的参数，目前"),n("code",[t._v("Pictool")]),t._v("处理算法对应参数 "),n("router-link",{attrs:{to:"/page/zh/file/digit-process.html"}},[t._v("digit.process")])],1)])]),t._v(" "),n("li",[t._v("返回 "),n("code",[t._v("Promise<string>")]),t._v(" 图片处理后的 "),n("code",[t._v("base64")]),t._v("字符串")])])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sandbox "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Pictool"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Sandbox")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgSrc"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" opts "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sobel'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'invert'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nsandbox"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("queueProcess")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("opts"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("base64")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  document"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'J_Example'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('`<img src="')]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("base64"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" />`')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("处理效果如下")]),t._v(" "),n("p",[n("img",{attrs:{src:s(128),alt:"example-digit-browser-sanbox"}})])])},[],!1,null,null,null);a.default=e.exports}}]);